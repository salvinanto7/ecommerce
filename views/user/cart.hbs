<section>
  <div class='container'>
    <h4 class='mt-3'>
      Shopping Cart
    </h4>
    <div class='row'>
      <table class='table mt-5'>
        <thead>
          <tr>
            <th scope='col'> 
              Item
            </th>
            <th scope='col'>
              Description
            </th>
            <th scope="col">
              Quantity
            </th>
          </tr>
        </thead>
        <tbody>
          {{#each cartProds}}
            <tr>
              <td>
                <img src="/product-images/{{this.product._id}}.jpg" alt="" style="width:50px;height:50px;">
              </td>
              <td>
                {{this.product.name}}
                {{this.product.description}}
              </td>
              <td>
                <button class=" btn btn-primary mr-3" onclick="changeCount('{{this._id}}','{{this.product._id}}',-1)">-</button>{{this.quantity}}<button class="btn btn-primary ml-3" onclick="changeCount('{{this._id}}','{{this.product._id}}',1)">+</button>
              </td>
              <td>
                <a href="" class="btn btn-danger">Remove</a>
              </td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</section>

<script>
  function changeCount(cartId,prodId,val){
    $.ajax({
      url:'/change-product-quantity',
      data:{
        cart:cartId,
        product:prodId,
        count:val
      },
      method:'post',
      success:(resposse)=>{
        alert(response)
      }
    })
  }
</script>